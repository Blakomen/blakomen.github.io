{"version":3,"file":"component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-mvc-model-binding-complex-objects-and-collections-mdx-68166c2c6e605552ad25.js","mappings":"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","sources":["webpack://henry-chong/./blog/mvc-model-binding-complex-objects-and-collections.mdx","webpack://henry-chong/./src/pages/blog/{mdx.frontmatter__slug}.js","webpack://henry-chong/./src/pages/blog/mdx.frontmatter__slug.module.css"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    strong: \"strong\",\n    em: \"em\",\n    pre: \"pre\",\n    code: \"code\",\n    h2: \"h2\",\n    a: \"a\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, \"Also known as \", React.createElement(_components.strong, null, React.createElement(_components.em, null, \"\\\"Why is my ViewModel returning null values to my HttpPost action?\\\"\")), \"  The answer is at the very bottom if you feel like skipping straight to it.\"), \"\\n\", React.createElement(_components.p, null, \"Let's say for example you have the following ViewModel and classes:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-csharp\"\n  }, \"public class MyViewModel\\r\\n{\\r\\n    public ComplexObject MyComplexObject { get; set; }\\r\\n    public int Value { get; set; }\\r\\n    public IEnumerable<ComplexObject> ComplexCollection { get; set; }\\r\\n}\\n\")), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-csharp\"\n  }, \"public class ComplexObject\\r\\n{\\r\\n    public int ID { get; set; }\\r\\n    public string Name { get; set; }\\r\\n}\\n\")), \"\\n\", React.createElement(_components.h2, null, \"Attempt #1\"), \"\\n\", React.createElement(_components.p, null, \"If you had the following in your view:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-csharp\"\n  }, \"@using (Html.BeginForm())\\r\\n{\\r\\n    <input type=\\\"submit\\\" value=\\\"Submit\\\" />\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Looking in your controller:\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-csharp\"\n  }, \"[HttpPost]\\r\\npublic ActionResult Submit(MyViewModel viewModel)\\r\\n{\\r\\n     // some stuff here\\r\\n\\r\\n     return new ContentAction();\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"If you put a breakpoint and debug, you'll see that \", React.createElement(_components.code, null, \"viewModel\"), \" won't actually have any of the values you need.\\r\\nThat's fine, we know how to handle that - \", React.createElement(_components.strong, null, \"we need to actually provide form input fields so that the data can be sent to the controller\"), \".\\r\\nWe'll use Hidden fields, and everything will be fine; a standard HTML concept. Let's try and get our complex object back.\"), \"\\n\", React.createElement(_components.h2, null, \"Attempt #2\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-csharp\"\n  }, \"@using (Html.BeginForm())\\r\\n{\\r\\n    @Html.HiddenFor(m => Model.MyComplexObject)\\r\\n    <input type=\\\"submit\\\" value=\\\"Submit\\\" />\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"So we added in a hidden field for the complex object - but if you breakpoint and debug, it'll still be null. What gives? It turns out you'll need to actually bind the individual properties of the object, or the default model binder will just ignore you.\"), \"\\n\", React.createElement(_components.h2, null, \"Attempt #3\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-csharp\"\n  }, \"@using (Html.BeginForm())\\r\\n{\\r\\n    @Html.HiddenFor(m => Model.MyComplexObject.Name)\\r\\n    <input type=\\\"submit\\\" value=\\\"Submit\\\" />\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Excellent! Now we have the Name property when we debug (ID will still be unbound, though). What about our list? Let's try and bind that…\"), \"\\n\", React.createElement(_components.h2, null, \"Attempt #4\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-csharp\"\n  }, \"@using (Html.BeginForm())\\r\\n{\\r\\n    @Html.HiddenFor(m => Model.MyComplexObject.Name)\\r\\n    @Html.HiddenFor(m => Model.ComplexCollection)\\r\\n    <input type=\\\"submit\\\" value=\\\"Submit\\\" />\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"No good - but we kind of knew that would happen anyway - the model binder doesn't magic up entire objects for us, so it's not too surprising it won't do a collection either.\\r\\nAfter a \", React.createElement(_components.a, {\n    href: \"https://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx/\"\n  }, \"trawl of the internet\"), \" to figure out why, the answer to binding a collection is that you need to explicitly provide an ID, as well as the properties you want bound.\\r\\nThe simplest way to do this is to change the \", React.createElement(_components.code, null, \"IEnumerable<>\"), \" to an \", React.createElement(_components.code, null, \"IList<>\"), \" (\", React.createElement(_components.a, {\n    href: \"http://stackoverflow.com/q/11677831/167018\"\n  }, \"there are other ways to do this if you don't want to use \", React.createElement(_components.code, null, \"IList<>\")), \"), and then for each item in your collection, create the hidden inputs.\"), \"\\n\", React.createElement(_components.h2, null, \"Attempt #5\"), \"\\n\", React.createElement(_components.pre, null, React.createElement(_components.code, {\n    className: \"language-csharp\"\n  }, \"@using (Html.BeginForm())\\r\\n{\\r\\n    @Html.HiddenFor(m => Model.MyComplexObject.Name)\\r\\n    for (var i = 0; i < Model.ComplexCollection.Count; i++)\\r\\n    {\\r\\n        @Html.HiddenFor(x => x.ComplexCollection[i].ID)\\r\\n        @Html.HiddenFor(x => x.ComplexCollection[i].Name)\\r\\n    }\\r\\n    <input type=\\\"submit\\\" value=\\\"Submit\\\" />\\r\\n}\\n\")), \"\\n\", React.createElement(_components.p, null, \"Now if you debug, you should see the values you expect! Congratulations!\"), \"\\n\", React.createElement(_components.p, null, \"The answer then, in summary:\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.strong, null, \"You must explicitly create a hidden input for each property in your complex object\"), \" that you want to be bound - being lazy and attempting to create a hidden input for the entire object directly won't work (unless you create a Template for it - which is probably also better practice…)\"), \"\\n\", React.createElement(_components.p, null, \"IEnumerables and binding don't play very nicely directly out of the box - it looks like MVC has better base support for \", React.createElement(_components.code, null, \"IList<>\"), \" and \", React.createElement(_components.strong, null, \"arrays\"), \", but you'll still have to \", React.createElement(_components.strong, null, \"enumerate the collection and create hidden inputs for each item\"), \".\"), \"\\n\", React.createElement(_components.p, null, \"Good luck out there!\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"C:/Dev/Github/gatsby-website/blog/mvc-model-binding-complex-objects-and-collections.mdx\";\nimport * as React from \"react\";\nimport {Link, graphql} from \"gatsby\";\nimport {GatsbyImage, getImage} from \"gatsby-plugin-image\";\nimport Layout from \"../../components/layout\";\nimport Seo from \"../../components/seo\";\nimport {blogNavigation} from \"./mdx.frontmatter__slug.module.css\";\nexport const query = graphql`\n  query ($id: String) {\n    mdx(id: { eq: $id }) {\n      frontmatter {\n        title\n        date(formatString: \"D MMM yyyy\")\n        isoDate: date(formatString: \"yyyy-MM-DD\")\n        hero_image {\n          childImageSharp {\n            gatsbyImageData(aspectRatio: 1.78)\n          }\n        }\n        hero_image_alt\n        hero_image_credit_link\n        hero_image_credit_text\n      }\n      excerpt\n    }\n  }\n`;\nconst BlogPost = ({data, children}) => {\n  const heroImage = getImage(data.mdx.frontmatter.hero_image);\n  return React.createElement(Layout, {\n    pageTitle: data.mdx.frontmatter.title\n  }, React.createElement(\"p\", null, React.createElement(\"time\", {\n    dateTime: data.mdx.frontmatter.isoDate\n  }, data.mdx.frontmatter.date)), React.createElement(\"figure\", null, React.createElement(GatsbyImage, {\n    image: heroImage,\n    alt: data.mdx.frontmatter.hero_image_alt\n  }), React.createElement(\"figcaption\", null, React.createElement(\"p\", null, \"📷:\", \" \", React.createElement(\"a\", {\n    href: data.mdx.frontmatter.hero_image_credit_link,\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, data.mdx.frontmatter.hero_image_credit_text)))), children, React.createElement(\"div\", {\n    className: blogNavigation\n  }, React.createElement(\"button\", null, React.createElement(Link, {\n    to: \"/blog\"\n  }, \"🔙 Back to all posts\"))));\n};\nexport const Head = ({data}) => React.createElement(Seo, {\n  title: data.mdx.frontmatter.title,\n  description: data.mdx.excerpt\n});\nBlogPost\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(BlogPost, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n","// extracted by mini-css-extract-plugin\nexport var blogNavigation = \"mdx-frontmatter__slug-module--blogNavigation--7494c\";"],"names":["_createMdxContent","props","_components","Object","assign","p","strong","em","pre","code","h2","a","_provideComponents","components","React","className","href","wrapper","MDXLayout","BlogPost","_ref","data","children","heroImage","getImage","mdx","frontmatter","hero_image","Layout","pageTitle","title","dateTime","isoDate","date","GatsbyImage","image","alt","hero_image_alt","hero_image_credit_link","target","rel","hero_image_credit_text","blogNavigation","Link","to","Head","_ref2","Seo","description","excerpt","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}